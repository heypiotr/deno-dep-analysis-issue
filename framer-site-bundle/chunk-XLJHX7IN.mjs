import{b as G,c as K}from"./chunk-N5RGE3HL.mjs";import{N as E,Q as W,T as $,k as F}from"./chunk-3QXNLKEC.mjs";import{E as _,F as q,g as L,h as U,o as d,x as P,z as x}from"./chunk-WFOYFRYZ.mjs";import{c as u}from"./chunk-JXOLF6V7.mjs";function w(){return w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w.apply(this,arguments)}function ce(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,p;for(p=0;p<n.length;p++)s=n[p],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}var c=function(e,r){if(!1){var n;switch(e){case"info":case"warn":case"error":default:}}},ue=function(e){return Object.keys(e).length===0&&e.constructor===Object},T=typeof u>"u",de=function t(e){return Object.keys(e).forEach(function(r){e[r]&&typeof e[r]=="object"?t(e[r]):e[r]===void 0&&delete e[r]}),e},i=function(e){if(!T&&u.Intercom){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return u.Intercom.apply(null,[e].concat(n))}else c("error",e+" Intercom instance is not initalized yet")},m="Please wrap your component with `IntercomProvider`.",me=L({boot:function(){return c("error",m)},shutdown:function(){return c("error",m)},hardShutdown:function(){return c("error",m)},update:function(){return c("error",m)},hide:function(){return c("error",m)},show:function(){return c("error",m)},showMessages:function(){return c("error",m)},showNewMessages:function(){return c("error",m)},getVisitorId:function(){return c("error",m),""},startTour:function(){return c("error",m)},trackEvent:function(){return c("error",m)}}),le=function(e,r){r===void 0&&(r=0);var n=u,s=n.Intercom;if(typeof s=="function")s("reattach_activator"),s("update",n.intercomSettings);else{var p=document,f=function h(){h.c(arguments)};f.q=[],f.c=function(h){f.q.push(h)},n.Intercom=f;var y=function(){setTimeout(function(){var v=p.createElement("script");v.type="text/javascript",v.async=!0,v.src="https://widget.intercom.io/widget/"+e;var I=p.getElementsByTagName("script")[0];I.parentNode.insertBefore(v,I)},r)};document.readyState==="complete"?y():n.attachEvent?n.attachEvent("onload",y):n.addEventListener("load",y,!1)}},pe=function(e){return{custom_launcher_selector:e.customLauncherSelector,alignment:e.alignment,vertical_padding:e.verticalPadding,horizontal_padding:e.horizontalPadding,hide_default_launcher:e.hideDefaultLauncher,session_duration:e.sessionDuration,action_color:e.actionColor,background_color:e.backgroundColor}},J=function(e){return w({company_id:e.companyId,name:e.name,created_at:e.createdAt,plan:e.plan,monthly_spend:e.monthlySpend,user_count:e.userCount,size:e.size,website:e.website,industry:e.industry},e.customAttributes)},fe=function(e){return{type:e.type,image_url:e.imageUrl}},he=function(e){var r;return w({email:e.email,user_id:e.userId,created_at:e.createdAt,name:e.name,phone:e.phone,last_request_at:e.lastRequestAt,unsubscribed_from_emails:e.unsubscribedFromEmails,language_override:e.languageOverride,utm_campaign:e.utmCampaign,utm_content:e.utmContent,utm_medium:e.utmMedium,utm_source:e.utmSource,utm_term:e.utmTerm,avatar:e.avatar&&fe(e.avatar),user_hash:e.userHash,company:e.company&&J(e.company),companies:(r=e.companies)==null?void 0:r.map(J)},e.customAttributes)},Q=function(e){return de(w({},pe(e),he(e)))},Z=function(e){var r=e.appId,n=e.autoBoot,s=n===void 0?!1:n,p=e.autoBootProps,f=e.children,y=e.onHide,h=e.onShow,v=e.onUnreadCountChange,I=e.shouldInitialize,S=I===void 0?!T:I,C=e.apiBase,oe=e.initializeDelay,ae=ce(e,["appId","autoBoot","autoBootProps","children","onHide","onShow","onUnreadCountChange","shouldInitialize","apiBase","initializeDelay"]),g=x(!1),M=x(!1);ue(ae);var A=d(function(o){if(!u.Intercom&&!S){c("warn","Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`");return}if(!g.current){var l=w({app_id:r},C&&{api_base:C},o&&Q(o));u.intercomSettings=l,i("boot",l),g.current=!0}},[C,r,S]);!T&&S&&!M.current&&(le(r,oe),y&&i("onHide",y),h&&i("onShow",h),v&&i("onUnreadCountChange",v),s&&A(p),M.current=!0);var a=d(function(o,l){if(o===void 0&&(o="A function"),!u.Intercom&&!S){c("warn","Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`");return}if(!g.current){c("warn",["'"+o+"' was called but Intercom has not booted yet. ","Please call 'boot' before calling '"+o+"' or ","set 'autoBoot' to true in the IntercomProvider."].join(""));return}return l()},[S]),D=d(function(){g.current&&(i("shutdown"),g.current=!1)},[]),z=d(function(){g.current&&(i("shutdown"),delete u.Intercom,delete u.intercomSettings,g.current=!1)},[]),b=d(function(){a("update",function(){var o=new Date().getTime();i("update",{last_requested_at:o})})},[a]),R=d(function(o){a("update",function(){if(!o){b();return}var l=Q(o);u.intercomSettings=w({},u.intercomSettings,l),i("update",l)})},[a,b]),k=d(function(){a("hide",function(){i("hide")})},[a]),N=d(function(){a("show",function(){return i("show")})},[a]),O=d(function(){a("showMessages",function(){i("showMessages")})},[a]),B=d(function(o){a("showNewMessage",function(){o?i("showNewMessage",o):i("showNewMessage")})},[a]),V=d(function(){return a("getVisitorId",function(){return i("getVisitorId")})},[a]),j=d(function(o){a("startTour",function(){i("startTour",o)})},[a]),H=d(function(o,l){a("trackEvent",function(){l?i("trackEvent",o,l):i("trackEvent",o)})},[a]),ie=P(function(){return{boot:A,shutdown:D,hardShutdown:z,update:R,hide:k,show:N,showMessages:O,showNewMessages:B,getVisitorId:V,startTour:j,trackEvent:H}},[A,D,z,R,k,N,O,B,V,j,H]),se=P(function(){return f},[f]);return U(me.Provider,{value:ie},se)};var ve={...G,...K,textAlign:"center",padding:15,width:200,height:100,overflow:"hidden"},ee={...ve,color:"#09f",background:"rgb(0, 153, 255, 0.1)",borderColor:"#09f"},te={fontSize:12,fontWeight:600,margin:0},re={fontSize:12,maxWidth:200,lineHeight:1.4,margin:"5px 0 0 0"};function ne({appId:t,style:e,...r}){return E.current()===E.canvas?q(F.div,{style:{...ee,...e},children:[_("h1",{style:te,children:"Intercom"}),_("p",{style:re,children:"Drop this component into a Screen to add Intercom."})]}):_(Z,{autoBoot:!0,appId:t})}$(ne,{appId:{title:"ID",type:W.String,description:"Create an [Intercom](https://www.intercom.com/) account and copy your workspace ID. [Learn more\u2026](https://www.framer.com/sites/integrations/intercom/)"}});export{ne as a};
//# sourceMappingURL=chunk-XLJHX7IN.mjs.map
